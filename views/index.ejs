<!DOCTYPE html>

<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.8.2/css/all.min.css" />

<html lang="en" data-theme="light"><head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>꾸꾸들의 캘린더</title>
    <meta name="description" content="A starter example with all elements and components used in Pico design system. Built with Pico CSS.">
    <link rel="shortcut icon" href="https://picocss.com/favicon.ico">
    <link rel="canonical" href="https://picocss.com/examples/preview/">

    <!-- Pico.css -->
    <link rel="stylesheet" href="https://unpkg.com/@picocss/pico@latest/css/pico.min.css">

</head>

<body>

<!-- Header -->
<header class="container">
<!--    <hgroup>-->
<!--        <h1>Pico</h1>-->
<!--        <h2>A starter example with all elements and components used in Pico design system.</h2>-->
<!--    </hgroup>-->
    <nav>
        <ul>
<!--            <i class="fa fa-solid fa-bars"></i>-->
            <li><a href="#" class="fa fa-solid fa-bars" >…</a></li>
        </ul>
        <ul>
            <li><strong>꾸꾸들의 일정</strong></li>
        </ul>
        <ul>
            <li><a class="fa fa-solid fa-plus" href="/edit"></a></li>
        </ul>
    </nav>
</header><!-- ./ Header -->

<!-- Main -->
<main class="container">

    <!-- Tables -->
    <section id="tables">
<!--        <h2>Tables</h2>-->
        <figure>
            <table role="grid">
                <thead>
                <tr>
                    <th scope="col">#</th>
                    <th scope="col">날짜</th>
                    <th scope="col">D-Day</th>
                    <th scope="col">내용</th>
<!--                    <th scope="col">Heading</th>-->
<!--                    <th scope="col">Heading</th>-->
<!--                    <th scope="col">Heading</th>-->
<!--                    <th scope="col">Heading</th>-->
<!--                    <th scope="col">Heading</th>-->
                </tr>
                </thead>
                <tbody>

                <!-- ejs 반복문 실행 and tr태그에 클릭이벤트 -->
                <% function calcDday(date) {

                    //d-day yyyy-MM-dd
                    var dday = new Date(schedules[i].date);
                    var today = new Date();
                    var gap = dday.getTime() - today.getTime();
                    var result = Math.floor(gap / (1000 * 60 * 60 * 24)) + 1;
                    if(result > 0){
                        return "D-"+result;
                    }else if(result < 1){
                        return "D-day";
                    }
                }

                //요일 구하기
                function getDay(date){
                    var week = new Array('일', '월', '화', '수', '목', '금', '토');
                    var today = new Date(date).getDay();
                    var todayLabel = week[today];
                    return todayLabel;
                }

                for(var i=0; i<schedules.length; i++){ %>
                <tr onclick="location.href='/edit/<%=schedules[i].id%>'">
                    <td><%=schedules[i].id%></td>
                    <td><%=schedules[i].date + "(" + getDay(schedules[i].date) + ")"%></td>

                    <td><%=
                        calcDday(schedules[i].date);
                    %></td>

                    <td><%=schedules[i].title%></td>
                </tr>
                <% } %>

                </tbody>
            </table>

            <!--page ui-->
            <div class="page">
                <% if(page > 1){ %>
                <a href="/?page=<%=(page-1)%>"><</a>
                <% } %>
                <span><%=page%></span>
                <% if(page < 10){ %>
                <a href="/?page=<%=(page+1)%>">></a>
                <% } %>
            </div>


        </figure>
    </section><!-- ./ Tables -->

</main><!-- ./ Main -->

<!-- Footer -->
<!--<footer class="container">-->
<!--    <small>Built with <a href="https://picocss.com">Pico</a> • <a href="https://github.com/picocss/examples/blob/master/preview/index.html">Source code</a></small>-->
<!--</footer>&lt;!&ndash; ./ Footer &ndash;&gt;-->

<!-- Modal example -->
<!--<dialog id="modal-example">-->
<!--    <article>-->
<!--        <a href="#close" aria-label="Close" class="close" data-target="modal-example" onclick="toggleModal(event)"></a>-->
<!--        <h3>Confirm your action!</h3>-->
<!--        <p>Cras sit amet maximus risus. Pellentesque sodales odio sit amet augue finibus pellentesque. Nullam finibus risus non semper euismod.</p>-->
<!--        <footer>-->
<!--            <a href="#cancel" role="button" class="secondary" data-target="modal-example" onclick="toggleModal(event)">Cancel</a><a href="#confirm" role="button" data-target="modal-example" onclick="toggleModal(event)">Confirm</a>-->
<!--        </footer>-->
<!--    </article>-->
<!--</dialog>&lt;!&ndash; ./ Modal example &ndash;&gt;-->

<!-- Minimal theme switcher -->
<script src="../js/minimal-theme-switcher.js"></script>

<!-- Modal -->
<script src="../js/modal.js"></script>

<script>
    // Set indeterminate progress bar
    document.getElementById('progress-2').indeterminate = true;
</script>




</body></html>


<script>

</script>